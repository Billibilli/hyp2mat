.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.41.1.
.TH HYP2MAT "1" "September 2013" "hyp2mat 0.0.8" "User Commands"
.SH NAME
hyp2mat \- convert hyperlynx files to octave/matlab scripts for electromagnetic simulation.
.SH SYNOPSIS
.B hyp2mat
[\fI-h\fR] [ \fI-o outfile \fR] [ \fI-f pdf|csxcad \fR] [\fI-n net\fR]... [\fIOPTIONS\fR]... [\fI-v\fR] [\fIinfile\fR]
.SH DESCRIPTION
hyp2mat 0.0.8
.PP
Converts Hyperlynx Signal\-Integrity Transfer Format files to Octave/matlab
scripts.
.SH OPTIONS
.TP
\fB\-h\fR, \fB\-\-help\fR
Print help and exit
.TP
\fB\-V\fR, \fB\-\-version\fR
Print version and exit
.TP
\fB\-o\fR, \fB\-\-output\fR=\fIfilename\fR
Output file.  (default=`\-')
.TP
\fB\-f\fR, \fB\-\-output\-format\fR=\fIENUM\fR
Output file format.  (possible values="csxcad",
"pdf" default=`pdf')
.SS "Processing options:"
.TP
\fB\-n\fR, \fB\-\-net\fR=\fISTRING\fR
Import net. Repeat to import several nets.
Default is importing all nets.
.TP
\fB\-l\fR, \fB\-\-layer\fR=\fISTRING\fR
Import layer. Repeat to import several layers.
Default is importing all layers.
.TP
\fB\-e\fR, \fB\-\-epsilonr\fR=\fIDOUBLE\fR
Set dielectric epsilon r.
.TP
\fB\-x\fR, \fB\-\-xmin\fR=\fIDOUBLE\fR
Crop pcb. Set lower bound of x coordinate.
.TP
\fB\-X\fR, \fB\-\-xmax\fR=\fIDOUBLE\fR
Crop pcb. Set upper bound of x coordinate.
.TP
\fB\-y\fR, \fB\-\-ymin\fR=\fIDOUBLE\fR
Crop pcb. Set lower bound of y coordinate.
.TP
\fB\-Y\fR, \fB\-\-ymax\fR=\fIDOUBLE\fR
Crop pcb. Set upper bound of y coordinate.
.TP
\fB\-z\fR, \fB\-\-zmin\fR=\fIDOUBLE\fR
Crop pcb. Set lower bound of z coordinate.
.TP
\fB\-Z\fR, \fB\-\-zmax\fR=\fIDOUBLE\fR
Crop pcb. Set upper bound of z coordinate.
.TP
\fB\-g\fR, \fB\-\-grid\fR=\fIDOUBLE\fR
Set output grid size.  (default=`10e\-6')
.TP
\fB\-p\fR, \fB\-\-arc\-precision\fR=\fIDOUBLE\fR
Set maximum difference between perfect arc and
polygonal approximation.  (default=`0')
.TP
\fB\-c\fR, \fB\-\-clearance\fR=\fIDOUBLE\fR
Set default trace\-to\-plane clearance.
(default=`0')
.SS "PDF output options:"
.TP
\fB\-\-hue\fR=\fIDOUBLE\fR
Set PDF color hue. Range 0.0 to 1.0
(default=`0')
.TP
\fB\-\-saturation\fR=\fIDOUBLE\fR
Set PDF color saturation. Range 0.0 to 1.0
(default=`0.6')
.TP
\fB\-\-brightness\fR=\fIDOUBLE\fR
Set PDF color brightness. Range 0.0 to 1.0
(default=`0.9')
.SS "Debugging options:"
.TP
\fB\-r\fR, \fB\-\-raw\fR
Raw output. Do not join adjacent or overlapping
copper. Do not invert planes.  (default=off)
.TP
\fB\-d\fR, \fB\-\-debug\fR
Increase debugging level. Repeat for more
detailed debugging.
.TP
\fB\-v\fR, \fB\-\-verbose\fR
Print board summary.
.PP
All lengths are in meters. 

Hyperlynx input files conventionally end in 
.BR .hyp
\&.

.I hyp2mat 
reads input from file
.IB infile . 
If no input file is specified input is read from standard in.

If no output file is specified output is to standard out.

If a syntax error occurs during conversion, error recovery is attempted.
.I hyp2mat 
exits with zero status if conversion was succesful and non-zero if not.

The 
.BR --verbose 
option can be used to list board dimensions. 

If only a small region of the board needs to be simulated the 
.BR --xmin
.BR --xmax
.BR --ymin 
.BR --ymax 
.BR --zmin 
and
.BR --zmax 
options can be used to crop the board to a smaller region. 

If not all layers of the board need to be simulated, the 
.BR --layers 
option may be used to specify layers of interest.

If not all nets of the board need to be simulated, the 
.BR --nets 
option may be used to specify nets of interest.
The option 
.BR --net=? 
lists all available nets.

Circles and arcs are approximated by polygons. By default a circle is approximated by an octagon. If higher accuracy is needed, set 
.BR --arc-precision
to the desired precision. This will increase the number of line segments used to draw circular, oval and oblong pads, amongst others.

Typical use of 
.I hyp2mat 
is with simulation packages such as OpenEMS.
.SH FILES
.B /usr/share/hyp2mat/matlab/
.br
.ns
Supporting matlab routines for OpenEMS.

.B /usr/share/hyp2mat/eagle/
.br
.ns
Examples and tutorial.
.SH EXAMPLES
Convert pcb.hyp to pdf:
.nf
hyp2mat -o pcb.pdf pcb.hyp
.ni

Examine original Hyperlynx file:
.nf 
hyp2mat -o pcb.pdf --raw pcb.hyp
.ni 

Draw arcs with an accuracy of 10 mil or better:
.nf 
hyp2mat -o pcb.pdf --arc-precision 0.000254 pcb.hyp
.ni 
.SH NOTES
Board outlines and copper polygons should not be self-intersecting.

Common causes of syntax errors are unquoted strings, and unassigned component values.

.SS Unquoted strings
.IP "Error:"
.I syntax error, unexpected STRING at 'Logo'

.IP "Source:"
.nf
(? REF=My Logo BOT1 L=Bottom_Layer)
.fi

.IP Cause:
An unquoted string contains a space (' '). 

.IP Solution:
Edit the .hyp file and put the string between double quotes:
.nf
(? REF="My Logo BOT1" L=Bottom_Layer)
.fi

.SS Unassigned component values
.IP "Error:"
.I syntax error, unexpected L, expecting FLOAT or STRING at 'L'

.IP "Source:" 
.nf
(R REF="R1" VAL= L="Top")
.fi

.IP Cause:
Component has not been assigned a value (VAL=). 

.IP Solution:
Edit the .hyp file and assign a value to resistor R1:
.nf
(R REF="R1" VAL=0 L="Top")
.fi
or assign the resistor a value in the schematics editor and re-export to HyperLynx.
.SH AUTHOR
.nf
Koen De Vleeschauwer, http://www.kdvelectronics.eu
.ni
.SH "SEE ALSO"
.IR octave (1)
.br
.IR "OpenEMS" ,
a free and open-source electromagnetic field solver using the FDTD method.
